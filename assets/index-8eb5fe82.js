(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const l=document.getElementById("events");function c(t){l.innerHTML="",console.log(t),t.forEach(e=>{var r;const o=document.createElement("div");o.classList.add("col-md-4","col-sm-6","col-lg-3"),o.innerHTML=`
      <div class="card event-card h-100">
        <img src="${(r=e.images[0])==null?void 0:r.url}" class="card-img-top" alt="${e.name}">
        <div class="card card-body d-flex flex-column">
          <h1 class="card-title">${e.name}</h5>
          <p class="date card-text mb-2">${e.dates.start.localDate}</p>
          <p class="where card-text">${e._embedded.venues[0].name}</p>
        </div>
      </div>
    `,l.appendChild(o)})}document.getElementById("events");const i="https://app.ticketmaster.com/discovery/v2/events?",d="apikey=frHax5AbrwLC1IuSbtMAkrrAQfOByT93";window.addEventListener("load",()=>{const t=document.getElementById("loader-container");t.style.display="flex",g().then(e=>t.style.display="none")});async function g(){var t;try{const r=((t=(await(await fetch(`${i}${d}&locale=*`)).json())._embedded)==null?void 0:t.events)||[];c(r)}catch{alert("Виникла помилка")}}async function m(t){var e;try{const o=`${i}${d}&countryCode=${t}`;return((e=(await(await fetch(o)).json())._embedded)==null?void 0:e.events)||[]}catch{console.log("error")}}async function f(t){var e;try{const o=`${i}${d}&keyword=${t}`;return((e=(await(await fetch(o)).json())._embedded)==null?void 0:e.events)||[]}catch{console.log("error")}}document.getElementById("events");document.getElementById("pagination");async function u(t=1){var n;const o="https://app.ticketmaster.com/discovery/v2/events?",r="apikey=frHax5AbrwLC1IuSbtMAkrrAQfOByT93";try{const a=await(await fetch(`${o}${r}&locale=*&size=10&page=${t-1}`)).json(),p=((n=a._embedded)==null?void 0:n.events)||[];c(p),t===1&&a.page.totalElements&&y(a.page.totalElements)}catch(s){console.error("Error loading page:",s)}}function y(t){const e=document.getElementById("pagination"),o=10;new tui.Pagination(e,{totalItems:t,itemsPerPage:o,visiblePages:5,centerAlign:!0,usageStatistics:!1,template:{first:"Перша",prev:"Попередня",next:"Наступна",last:"Остання",page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>'}}).on("afterMove",async n=>{const s=n.page;await u(s)})}u();document.getElementById("searchInputSel");const v=document.getElementById("countrySelect");v.addEventListener("change",t=>{const e=t.currentTarget.value.toLowerCase();m(e).then(o=>{console.log(o),c(o)})});document.getElementById("searchInputSel").addEventListener("input",throttle(function(t){console.log("Madonna");const e=t.target.value.toLowerCase();f(e).then(o=>{c(o)})},1e3));
