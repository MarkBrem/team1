/* empty css             */(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const O=document.getElementById("events");function T(e){O.innerHTML="",console.log(e),e.forEach(t=>{var o;const n=document.createElement("div");n.classList.add("col-md-4","col-sm-6","col-lg-3"),n.innerHTML=`
      <div class="card event-card h-100">
        <img src="${(o=t.images[0])==null?void 0:o.url}" class="card-img-top" alt="${t.name}">
        <div class="card card-body d-flex flex-column">
          <h1 class="card-title">${t.name}</h5>
          <p class="date card-text mb-2">${t.dates.start.localDate}</p>
          <p class="where card-text">${t._embedded.venues[0].name}</p>
        </div>
      </div>
    `,O.appendChild(n)})}document.getElementById("events");const A="https://app.ticketmaster.com/discovery/v2/events?",P="apikey=frHax5AbrwLC1IuSbtMAkrrAQfOByT93";window.addEventListener("load",()=>{const e=document.getElementById("loader-container");e.style.display="flex",G().then(t=>e.style.display="none")});async function G(){var e;try{const o=((e=(await(await fetch(`${A}${P}&locale=*`)).json())._embedded)==null?void 0:e.events)||[];T(o)}catch{alert("Виникла помилка")}}async function Q(e){var t;try{const n=`${A}${P}&countryCode=${e}`;return((t=(await(await fetch(n)).json())._embedded)==null?void 0:t.events)||[]}catch{console.log("error")}}async function z(e){var t;try{const n=`${A}${P}&keyword=${e}`;return((t=(await(await fetch(n)).json())._embedded)==null?void 0:t.events)||[]}catch{console.log("error")}}const R="https://app.ticketmaster.com/discovery/v2/events?",H="apikey=frHax5AbrwLC1IuSbtMAkrrAQfOByT93",M=document.getElementById("events"),L=document.querySelector(".backdrop"),S=document.querySelector(".modal"),j=document.querySelector(".modal-body"),K=document.querySelector(".close-modal-btn"),x=document.querySelector(".loader");M.addEventListener("click",D);K.addEventListener("click",Z);L.addEventListener("click",ee);document.addEventListener("keydown",te);function V(e){var t,n,o,r,a,c,i,d,l,g,u,p,y,b,$,h,m,v;return`
    <img class="big-img" src="${((t=e.images[4])==null?void 0:t.url)||""}" alt="${e.name}">
    <div class="info-container">
      <h3 class="title-info">INFO</h3>
      <p class="promoter-desc">${((n=e.promoter)==null?void 0:n.description)||"No Description"}</p>
      <h3 class="title-when">WHEN</h3>
      <p class="date">${e.dates.start.localDate||"No Date"}</p>
      <p class="time">${e.dates.start.localTime||"No Time"}</p>
      <h3 class="title-where">WHERE</h3>
      <p class="location">${((a=(r=(o=e._embedded)==null?void 0:o.venues[0])==null?void 0:r.city)==null?void 0:a.name)||"Unknown City"}, 
         ${((d=(i=(c=e._embedded)==null?void 0:c.venues[0])==null?void 0:i.country)==null?void 0:d.name)||"Unknown Country"}</p>
      <p class="venue-name">${((g=(l=e._embedded)==null?void 0:l.venues[0])==null?void 0:g.name)||"Unknown Venue"}</p>
      <h3 class="title-who">WHO</h3>
      <p class="event-name">${e.name||"No Event Name"}</p>
      <h3 class="title-price">PRICES</h3>
      <p class="price-range">${((p=(u=e.priceRanges)==null?void 0:u[0])==null?void 0:p.type)||"No Price Info"} 
         ${((b=(y=e.priceRanges)==null?void 0:y[0])==null?void 0:b.min)||"N/A"} - ${((h=($=e.priceRanges)==null?void 0:$[0])==null?void 0:h.max)||"N/A"} 
         ${((v=(m=e.priceRanges)==null?void 0:m[0])==null?void 0:v.currency)||"N/A"}</p>
    </div>
  `}function D(e){L.style.pointerEvents="auto",S.classList.add("is-show"),x.style.display="block",X(e).then(t=>{const n=V(t);j.innerHTML=n}).catch(t=>{console.error("Error:",t),j.innerHTML="<h1></h1>"}).finally(()=>{x.style.display="none"})}async function X(e){var t;try{return((t=(await(await fetch(`${R}${H}&id=${e}`)).json())._embedded)==null?void 0:t.events[0])||{}}catch{throw new Error("Error fetching event details")}}function J(e){M.innerHTML="",e.forEach(t=>{var o,r;const n=document.createElement("div");n.classList.add("col-md-4","col-sm-6","col-lg-3"),n.innerHTML=`
      <div class="card event-card h-100" data-event-id="${t.id}">
        <img src="${(o=t.images[0])==null?void 0:o.url}" class="card-img-top" alt="${t.name}">
        <div class="card card-body d-flex flex-column">
          <h1 class="card-title">${t.name}</h1>
          <p class="date card-text mb-2">${t.dates.start.localDate}</p>
          <p class="where card-text">${(r=t._embedded.venues[0])==null?void 0:r.name}</p>
        </div>
      </div>
    `,n.addEventListener("click",()=>D(t.id)),M.appendChild(n)})}window.addEventListener("load",()=>{const e=document.getElementById("loader-container");e.style.display="flex",Y().then(t=>e.style.display="none")});async function Y(){var e;try{const o=((e=(await(await fetch(`${R}${H}&locale=*`)).json())._embedded)==null?void 0:e.events)||[];J(o)}catch{alert("")}}function Z(){S.classList.remove("is-show")}function ee(e){e.target===L&&(S.classList.remove("is-show"),L.style.pointerEvents="none")}function te(e){e.key==="Escape"&&S.classList.remove("is-show")}document.getElementById("events");document.getElementById("pagination");async function W(e=1){var r;const n="https://app.ticketmaster.com/discovery/v2/events?",o="apikey=frHax5AbrwLC1IuSbtMAkrrAQfOByT93";try{const c=await(await fetch(`${n}${o}&locale=*&size=10&page=${e-1}`)).json(),i=((r=c._embedded)==null?void 0:r.events)||[];T(i),e===1&&c.page.totalElements&&ne(c.page.totalElements)}catch(a){console.error("Error loading page:",a)}}function ne(e){const t=document.getElementById("pagination"),n=10;new tui.Pagination(t,{totalItems:e,itemsPerPage:n,visiblePages:5,centerAlign:!0,usageStatistics:!1,template:{first:"Перша",prev:"Попередня",next:"Наступна",last:"Остання",page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>'}}).on("afterMove",async r=>{const a=r.page;await W(a)})}W();var w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function re(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var U="Expected a function",_=0/0,oe="[object Symbol]",ae=/^\s+|\s+$/g,se=/^[-+]0x[0-9a-f]+$/i,ce=/^0b[01]+$/i,ie=/^0o[0-7]+$/i,de=parseInt,le=typeof w=="object"&&w&&w.Object===Object&&w,ue=typeof self=="object"&&self&&self.Object===Object&&self,fe=le||ue||Function("return this")(),me=Object.prototype,pe=me.toString,ye=Math.max,ge=Math.min,C=function(){return fe.Date.now()};function he(e,t,n){var o,r,a,c,i,d,l=0,g=!1,u=!1,p=!0;if(typeof e!="function")throw new TypeError(U);t=N(t)||0,I(n)&&(g=!!n.leading,u="maxWait"in n,a=u?ye(N(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function y(s){var f=o,E=r;return o=r=void 0,l=s,c=e.apply(E,f),c}function b(s){return l=s,i=setTimeout(m,t),g?y(s):c}function $(s){var f=s-d,E=s-l,B=t-f;return u?ge(B,a-E):B}function h(s){var f=s-d,E=s-l;return d===void 0||f>=t||f<0||u&&E>=a}function m(){var s=C();if(h(s))return v(s);i=setTimeout(m,$(s))}function v(s){return i=void 0,p&&o?y(s):(o=r=void 0,c)}function q(){i!==void 0&&clearTimeout(i),l=0,o=d=r=i=void 0}function F(){return i===void 0?c:v(C())}function k(){var s=C(),f=h(s);if(o=arguments,r=this,d=s,f){if(i===void 0)return b(d);if(u)return i=setTimeout(m,t),y(d)}return i===void 0&&(i=setTimeout(m,t)),c}return k.cancel=q,k.flush=F,k}function ve(e,t,n){var o=!0,r=!0;if(typeof e!="function")throw new TypeError(U);return I(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),he(e,t,{leading:o,maxWait:t,trailing:r})}function I(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Ee(e){return!!e&&typeof e=="object"}function be(e){return typeof e=="symbol"||Ee(e)&&pe.call(e)==oe}function N(e){if(typeof e=="number")return e;if(be(e))return _;if(I(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=I(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(ae,"");var n=ce.test(e);return n||ie.test(e)?de(e.slice(2),n?2:8):se.test(e)?_:+e}var $e=ve;const we=re($e);document.getElementById("searchInputSel");const Le=document.getElementById("countrySelect");Le.addEventListener("change",e=>{const t=e.currentTarget.value.toLowerCase();Q(t).then(n=>{console.log(n),T(n)})});document.getElementById("searchInputSel").addEventListener("input",we(function(e){console.log("Madonna");const t=e.target.value.toLowerCase();z(t).then(n=>{T(n)})},1e3));
